import{c as E,r as u,j as e,U as f,X as F,e as l,P,H as m,M as _,R as k,S as A,d as U,f as H}from"./index-fqGUgWTJ.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=E("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),q=({show:N,onClose:v,resident:a,theme:d,onGenerateCard:B,onAssignRFID:g,getStatusColor:w,onUpdateResident:o,municipalityOptions:z=[],genderOptions:R=[],civilStatusOptions:D=[],bloodTypeOptions:C=[]})=>{const[h,i]=u.useState(!1),[n,y]=u.useState(null);if(!N||!a)return null;const t=(s,r="-")=>s==null||s===""?r:s,x=s=>{if(!s)return"-";try{return new Date(s).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})}catch{return s}},I=s=>{if(!s)return 0;try{const r=new Date(s),c=new Date;let j=c.getFullYear()-r.getFullYear();const p=c.getMonth()-r.getMonth();return(p<0||p===0&&c.getDate()<r.getDate())&&j--,j}catch{return 0}},M=()=>{const s={...a};y(s),i(!0)},S=()=>{n&&o&&o(n),i(!1)},b=()=>{const s=[];return a.firstname&&s.push(a.firstname),a.middlename&&a.middlename!=="N/A"&&s.push(a.middlename),a.lastname&&s.push(a.lastname),a.suffix&&a.suffix!=="None"&&s.push(a.suffix),s.length>0?s.join(" "):"Unknown"};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transition-colors duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between sticky top-0 bg-white dark:bg-gray-800",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(f,{size:24,className:"text-orange-600 dark:text-orange-400"}),"Resident Information"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Complete details for ",t(b())]})]}),e.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(F,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-gray-800",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Full Name"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(f,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{className:"font-medium",children:t(b())})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Age"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(l,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsxs("span",{children:[I(a.birthdate)," years old"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Gender"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.gender==="Male"?d==="dark"?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-700":d==="dark"?"bg-pink-900/30 text-pink-400":"bg-pink-100 text-pink-700"}`,children:t(a.gender)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Birthdate"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(l,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:x(a.birthdate)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Civil Status"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-200",children:e.jsx("span",{className:"font-medium",children:t(a.civil_status)})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Occupation"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-200",children:e.jsx("span",{className:"font-medium",children:t(a.occupation)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Employment Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d==="dark"?"bg-green-900/30 text-green-400":"bg-green-100 text-green-700"}`,children:t(a.employment_status)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Religion"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-200",children:e.jsx("span",{className:"font-medium",children:t(a.religion)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Contact Number"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(P,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:t(a.contact_number)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Birth Place"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-200",children:e.jsx("span",{className:"font-medium",children:t(a.birth_place)})})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-gray-800",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Address"}),e.jsxs("div",{className:"flex items-start gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(m,{size:16,className:"text-gray-400 dark:text-gray-500 mt-1"}),e.jsx("span",{children:t(a.address)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Barangay"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-sm font-medium",children:[e.jsx(m,{size:12}),t(a.barangay)]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Municipality"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-full text-sm font-medium",children:[e.jsx(_,{size:12}),t(a.municipality)]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Sitio"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-200",children:e.jsx("span",{className:"font-medium",children:t(a.sitio)})})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 pb-2 border-b border-gray-200 dark:border-gray-800",children:"System Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Resident ID"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx($,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{className:"font-medium",children:a._id?`RES-${a._id.substring(0,8)}`:"RES-0000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"RFID Number"}),e.jsx("div",{className:"flex items-center gap-2",children:a.rfid?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 rounded-full text-sm font-medium",children:[e.jsx(k,{size:12}),a.rfid]}):e.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500 italic",children:"No RFID assigned"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold uppercase ${w(a.status)}`,children:t(a.status)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Role"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-200",children:e.jsx("span",{className:"font-medium",children:t(a.role)})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Household ID"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(m,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:t(a.household_id)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Date Registered"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(l,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:x(a.dateRegistered)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Last Updated"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-200",children:[e.jsx(l,{size:16,className:"text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:x(a.lastUpdated)})]})]})]})]})]}),e.jsx("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex gap-3",children:[g&&e.jsxs("button",{onClick:()=>g(a),className:"px-6 py-2 bg-purple-600 dark:bg-purple-700 hover:bg-purple-700 dark:hover:bg-purple-600 text-white rounded-lg transition-colors text-sm font-bold",children:[e.jsx(k,{size:16,className:"inline mr-2"}),a.rfid?"Update RFID":"Assign RFID"]}),e.jsxs("button",{onClick:M,className:"px-6 py-2 bg-orange-600 dark:bg-orange-700 hover:bg-orange-700 dark:hover:bg-orange-600 text-white rounded-lg transition-colors text-sm font-bold",children:[e.jsx(A,{size:16,className:"inline mr-2"}),"Edit Information"]})]})})]}),e.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/30 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(U,{className:"text-orange-600 dark:text-orange-400 flex-shrink-0 mt-0.5",size:16}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"This information is confidential and should only be accessed by authorized personnel. Please ensure data privacy compliance when handling resident information."})]})})]})}),h&&e.jsx(H,{mode:"edit",show:h,onClose:()=>i(!1),residentData:n,setResidentData:y,onSubmit:S,municipalityOptions:z,genderOptions:R,civilStatusOptions:D,bloodTypeOptions:C})]})};export{q as default};
